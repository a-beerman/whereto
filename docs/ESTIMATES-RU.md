# Оценки (RU): стоимость, нагрузка, сроки

## 1) Важно
Этот документ фиксирует **допущения** и **формулы**. Цифры можно быстро обновлять, не меняя продуктовый план.

---

## 2) Оценка стоимости Google Places (ингест)

### 2.1 Переменные
- `C` — число городов в работе
- `K` — число категорий/типов (или стратегий выборки) на город
- `P` — среднее число мест (venues) на категорию в городе
- `R` — среднее число запросов Places API на 1 место/страницу (зависит от того, используем ли details, pagination и т.д.)
- `S_full` — полный синк (раз в сутки)
- `S_incr` — инкрементальные обновления (раз в N часов)

### 2.2 Формула запросов
Грубая оценка запросов на полный синк:
`requests_full ≈ C * K * pages(category)`  
где `pages(category) ≈ ceil(P / page_size)`

Если дополнительно берём details для части мест:
`requests_details ≈ C * venues_synced * details_rate`

Итого:
`requests_total ≈ requests_full + requests_details + requests_incr`

### 2.3 Что нужно зафиксировать (чтобы получить числа)
Заполни:
- `C = ___`
- `K = ___`
- `P ≈ ___`
- `page_size = ___`
- `details_rate = ___` (0..1)
- Сколько раз в сутки: full/incr

---

## 3) Нагрузка на наш API (примерная)

### 3.1 Переменные
- `DAU` — активные пользователи в день
- `search_per_user` — поисков/открытий списков на пользователя
- `details_per_user` — открытий карточек
- `p_save` — доля пользователей, сохраняющих
- `p_share` — доля пользователей, шэрящих

### 3.2 Формула запросов/сутки
- `GET /venues` ≈ `DAU * search_per_user`
- `GET /venues/:id` ≈ `DAU * details_per_user`
- save/share — зависит от реализации (server-side или client-side)

---

## 4) Инфра (минимум для MVP)
- Postgres + PostGIS (каталог)
- Worker/cron для ingestion job
- API сервис
- Логи/метрики (хотя бы базовые)

---

## 5) Временная оценка M1/M2 (черновик)
> Ниже — шаблон. Заполни реальными днями/неделями команды.

### M1 (4 недели)
- Ingestion job (1 city) + модель + дедуп минимальный: ___
- Read API `/venues` + `/venues/:id`: ___
- Bot: city/category/search/list/card/save/share: ___
- /plan flow (если делаем в M1): ___
- Observability + polish: ___

### M2 (4 недели)
- Качество каталога (инструменты/админки/ресинк): ___
- Discovery improvements (rank/synonyms): ___
- Miniapp B2C (если нужно): ___

---

## 6) Решения по бюджету (заполнить)
- Лимит на запросы Places/сутки: ___
- Максимум городов в MVP: ___
- Cadence синка: full ___ / incr ___