# WhereTo — план работ для Copilot Agent (бот + миниапп MVP)

Цель: разложить функциональность из спецификации на эпики/задачи с проверяемыми результатами и зависимостями. Без кода — только артефакты, acceptance и последовательность.

## Эпики

1. Гибридный групповой сценарий

- Задачи:
  - /plan: сбор параметров (формат/район/бюджет/дедлайн) быстрыми кнопками
  - Сообщение 1: hero‑image + заголовок + контекст + CTA (web_app)
  - Сообщение 2: публикация нативного Poll (3–10 вариантов) + CTA
  - Итоги: авто‑публикация результата по дедлайну
- Acceptance:
  - В чатах: два сообщения появляются последовательно; опрос содержит корректные варианты; итоги публикуются автоматически.

2. Миниапп: Vote + Card

- Задачи:
  - VotePage: рендер вариантов плана (с фото/рейтингом/адресом), голос в один тап, показ лидера
  - CardPage: фото, теги, рейтинг/отзывы, часы, телефон, сайт, маршрут; сохранить/поделиться
  - Контекст: приём planId через web_app/startapp
- Acceptance:
  - Открытие из бота приводит к корректному экрану; голос фиксируется; доступна карточка победителя.

3. Личный поиск (бот)

- Задачи:
  - Пресеты: Еда/Кофе/Бар, Сегодня вечером
  - Свободный текст: распознать, предложить уточнения (район/бюджет/дедлайн)
  - Выдача списка (5–10 карточек), навигация к карточке и миниаппу
- Acceptance:
  - По каждому запросу есть релевантная выдача; карточка содержит минимальный набор полей; “сохранить/поделиться” работают.

4. Hero‑image и копирайт

- Задачи:
  - Набор категорийных/сезонных hero‑image (минимум 6–9 ассетов)
  - Правила выбора: топ‑1 → топ‑3 → категорийный → сезонный → градиент
  - Шаблоны текстов (заголовок/контекст/опрос)
- Acceptance:
  - В каждом сценарии корректный hero; тексты лаконичны и единообразны.

5. Inline‑режим и шэр без добавления бота

- Задачи:
  - Inline‑карточка плана с CTA миниаппа
  - Конструктор плана в личке → выдача ссылки (startapp)
  - Форвард карточки из лички в группу
- Acceptance:
  - Любой вариант даёт доступ группе к голосованию без добавления бота.

6. Метрики и события (продуктовые)

- Задачи:
  - Единая схема событий: bot_search, plan_create, plan_vote, miniapp_vote и т.д.
  - Дашборд пилота (участие, CTR, конверсии, время до решения)
- Acceptance:
  - События фиксируются; метрики видны; есть отчёт за неделю.

## Зависимости и порядок (2–3 недели)

- Неделя 1:
  - Эпик 1 (бот: /plan, два сообщения, опрос)
  - Эпик 2 (миниапп: VotePage, контекст planId)
  - Эпик 4 (ассеты hero‑image, шаблоны текстов)
- Неделя 2:
  - Эпик 3 (личный поиск: пресеты + free‑text + карточки)
  - Эпик 5 (inline/шэр), первые метрики (Эпик 6)
- Неделя 3:
  - Полировка UX, карточка победителя, дашборд, A/B (venue vs категорийный hero; Poll vs кастомные кнопки)

## Acceptance общие (Definition of Done)

- Бот: /plan работает в группе; два сообщения; нативный Poll; итоги по дедлайну; CTA миниаппа видна.
- Миниапп: VotePage и CardPage; голос в один тап; карточка победителя доступна.
- Без добавления бота: inline/шэр/форвард доступны.
- Визуал/копирайт: hero‑image корректен; тексты короткие; кнопки понятны.
- Метрики: ключевые события логируются; есть дашборд за пилотную неделю.

## Не‑цели (чтобы Copilot не добавлял лишнее)

- Нет бронирований/оплаты.
- Нет B2B кабинета.
- Нет сложных профилей/соц‑графа.
- Избранное может быть локальным (без кросс‑девайса).

## Открытые вопросы (помечаем для планирования)

- Нужен ли fairness‑режим (всегда нейтральный hero) по умолчанию для групп?
- Будем ли зеркалить голоса из нативного Poll в нашем состоянии (для согласованности миниаппа)?
- Какие пресеты приоритетны для города (Кишинёв): центр/старый город/любой?

Этот план предназначен для прямого использования Copilot Agent: эпики→задачи→критерии. По мере реализации обновлять “Acceptance” и дашборд метрик.
